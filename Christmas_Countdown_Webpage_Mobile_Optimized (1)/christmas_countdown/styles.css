/* Mobile-first festive dark theme (optimized for phones) */
:root{
  --bg:#0b1220;
  --panel:#111a2c;
  --accent:#16d38c;
  --text:#e8f1ff;
  --muted:#a5b9d9;
  --red:#ff5d5d;
  --gold:#ffd166;
}

*{box-sizing:border-box; -webkit-tap-highlight-color: transparent;}
html{height:100%;}
body{
  margin:0;
  height:100%;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  background: radial-gradient(1000px 600px at 70% -10%, #173058 0%, #0b1220 60%);
  color:var(--text);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

#app{max-width:960px;margin:0 auto;padding:clamp(12px,3vw,24px);}

/* Header */
header{
  display:flex;flex-direction:column;gap:10px;align-items:center;text-align:center;
  position:sticky; top:0; z-index:10;
  background: linear-gradient(180deg, rgba(11,18,32,0.95), rgba(11,18,32,0.65));
  backdrop-filter: blur(6px);
  padding-bottom: 8px;
  border-bottom:1px solid #23365966;
}
h1{
  margin:8px 0 0 0;
  line-height:1.15;
  font-size: clamp(1.2rem, 5vw, 1.9rem);
}
#countdown{
  font-size: clamp(1rem, 4.5vw, 1.2rem);
  color:var(--gold);
  padding:8px 12px;
  border:1px dashed var(--gold);
  border-radius:12px;
  background:#0e1830AA
}

/* Controls */
.controls{
  display:flex; align-items:center; justify-content:center; gap:10px; margin-top:6px; flex-wrap:wrap;
}
.controls button{
  min-width:48px; min-height:48px; /* mobile tap target */
  background:var(--panel); color:var(--text);
  border:1px solid #2a3b60; border-radius:14px;
  padding:12px 14px; font-size:1rem; font-weight:700; letter-spacing:.2px;
  cursor:pointer; transition:transform .12s ease;
  touch-action: manipulation;
}
.controls button:active{transform: scale(0.98);}
#dayLabel{font-weight:700; font-size: clamp(1rem, 4.4vw, 1.1rem);}
.toggle{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:.95rem}

/* Stage */
.stage{
  display:grid;grid-template-columns:1fr;gap:12px;margin:14px 0;
}
.card{
  background:linear-gradient(180deg, #0f1a2e, #0b1220);
  border:1px solid #233659;
  border-radius:18px;padding:8px;
  min-height: clamp(260px, 45vh, 420px);
  display:flex;align-items:center;justify-content:center;
  overflow:hidden;
}
.card svg{max-width:100%; height:auto; display:block;}
.actions{display:flex;gap:10px;flex-wrap:wrap; justify-content:center;}
.actions button{
  min-width:140px; min-height:48px;
  background:var(--accent);color:#06121b;border:0;border-radius:14px;
  padding:12px 16px;font-weight:800;font-size:1rem; cursor:pointer;
}
.actions button#stopJingle{background:var(--red);color:white;font-weight:800}

/* Caption */
.caption{
  color:var(--muted);font-style:italic;margin:6px 2px;
  font-size: clamp(.95rem, 4.5vw, 1rem);
  text-align:center;
}

/* Calendar grid */
.calendar{
  display:grid;
  grid-template-columns:repeat(4, 1fr); /* phone-friendly columns */
  gap:8px; margin-top:8px;
}
@media (min-width: 480px){
  .calendar{ grid-template-columns: repeat(6, 1fr); }
}
@media (min-width: 768px){
  .calendar{ grid-template-columns: repeat(8, 1fr); }
}
.day{
  background:var(--panel);
  border:1px solid #233659;
  border-radius:14px;
  padding:10px; text-align:center; cursor:pointer; transition:transform .12s ease;
  position:relative; overflow:hidden;
  min-height:72px; display:flex; flex-direction:column; align-items:center; justify-content:center;
}
.day:active{transform:scale(0.98)}
.day.locked{opacity:.55; cursor:not-allowed}
.day strong{font-size: clamp(.95rem, 4vw, 1rem);}
.day .small{font-size:.85rem;color:var(--muted);display:block;margin-top:4px}
.badge{
  position:absolute; top:6px; right:-10px; transform:rotate(18deg);
  background:var(--gold); color:#402b00; font-weight:800; font-size:.7rem; padding:2px 10px; border-radius:8px
}

footer{margin:16px 0 8px; text-align:center; color:var(--muted); font-size:.9rem}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{transition:none!important; animation:none!important}
}
/* Safe area */
@supports (padding: max(0px)){
  body{ padding-bottom: max(env(safe-area-inset-bottom), 0px); }
}
